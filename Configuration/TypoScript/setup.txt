plugin.tx_email2powermail {
	settings {
		# Turn extension on/off
		_enable = TEXT
		_enable.value = 1

		# Build link to powermail form
		parseLink = TEXT
		parseLink {
			field = name
			typolink.parameter = {$plugin.tx_email2powermail.settings.pid}
			typolink.additionalParams.cObject = TEXT
			typolink.additionalParams.cObject {
				wrap = &tx_email2powermail[id]=|
				field = identifier
			}
			typolink.ATagParams = class="email2powermail"
		}
	}
}

config.tx_extbase {
	persistence {
		classes {
			In2code\Email2powermail\Domain\Model\Email {
				mapping {
					tableName = tx_email2powermail_domain_model_email
					columns {
						email.mapOnProperty  = email
						name.mapOnProperty = name
					}
				}

				# Example how to map to fe_users in one pid
				#/*
				mapping {
					tableName = fe_users
					columns {
						uid.mapOnProperty = identifier
						email.mapOnProperty = email
						first_name.mapOnProperty = name
					}
					in {
						pid = 1,237
					}
				}
				#*/
			}
		}
	}
}
